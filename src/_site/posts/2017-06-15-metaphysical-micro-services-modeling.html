<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Ryan's Cave - 2017-06-15-metaphysical-micro-services-modeling</title>
        <script type="text/javascript" src="../js/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full,Safe"></script>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/github.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">Ryan's Cave</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <div class="info">
    Posted on June 15, 2017
    
</div>

<h1>
<center>
Metaphysical Micro-Services Modeling
</center>
</h1>
<center>
<strong>Ryan J. Kung</strong></cener>
<center>
<strong>ryankung(at)ieee.org</strong>
</center>
<h2 id="i-metaphysical-modeling">I Metaphysical Modeling</h2>
<p>There are two ways in which the term modeling can be understood: <strong>descriptive</strong> and <strong>preciptive</strong>. A descriptive model represent an existing system Thus a presciptive model is one that can be used to construct the target system[1].</p>
<h3 id="descriptive-with-functional">1.1 Descriptive with Functional</h3>
<p>A Functional is a Function which accept a paramater <span class="math inline">\(\theta\)</span> and output a function <span class="math inline">\(f(x;\theta)\)</span>, where <span class="math inline">\(f(x)\)</span> is the abstract of <span class="math inline">\(services\ processing\)</span>.</p>
<h4 id="pure-function-and-equivariant">1.1.1 <em>Pure Function</em> and <em>equivariant</em></h4>
<p>Pure Function is that a function dose not cause any side-effect, which is means, no statements, IO, wont cause <em>MUTEX</em>, etc.</p>
<p>And suppose that there is two function <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>, <span class="math inline">\(f(x)\)</span> is equivariant to <span class="math inline">\(g\)</span> <span class="math inline">\(iff\)</span>: <span class="math inline">\(f\circ g(x)=g \circ f(x)\)</span>.</p>
<h4 id="compose-function">1.1.2 Compose Function</h4>
<p>In mathematic, compose of functions is that <span class="math inline">\(f(g(x)) = f \circ g (x)\)</span>, which can be represent that <span class="math inline">\(compose ( f, g)(x)\)</span>, or in S-exp <span class="math inline">\((compose\ f'\ g')\)</span>, where <span class="math inline">\(\circ\)</span> is a <span class="math inline">\(left\ prefix\)</span> function.</p>
<p>We can compose functions in any order iff they are <span class="math inline">\(Pure\)</span> or <span class="math inline">\(Equivariant\)</span>, otherwise we may need to define some fixed oreder function with <span class="math inline">\(J=f\circ g\)</span>, which wile hidden function <span class="math inline">\(f, g\)</span> in our descrpiptive modeling.</p>
<h4 id="side-effect">1.1.2 Side-Effect</h4>
<p>Side-effect usually caused via <em>Resource Sharing</em>, <em>IO</em>, or <em>Statement</em>. If a function cause side-effect, it’s obviously not a <span class="math inline">\(pure\)</span> function, but it still can be describe as <span class="math inline">\(equivariant\)</span> function.</p>
<p>A <span class="math inline">\(distribution\)</span> system can be describe as <em>a system which including unpredictable order in which certain events can occour</em>, So as the micro-service System. With the definition of the <span class="math inline">\(Lamport\ Timestamp\)</span>, we can define a compose of functions like: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}] \rightarrow Ev_c \rightarrow Ev_d\)</span>. If all events are <span class="math inline">\(pure\)</span> or <span class="math inline">\(equivariant\)</span>, we can think <span class="math inline">\(Ev_{b1}\)</span> and <span class="math inline">\(Ev_{b2}\)</span> are occour concurrency.</p>
<p>But if <span class="math inline">\(Ev_{b2}\)</span> couse side-effect, we must include the statement of <span class="math inline">\(Ev_{b2}\)</span> in our <span class="math inline">\(Lamprot\ Timeline\)</span>: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\rightarrow Ev_c \rightarrow Ev_d\)</span>. The processing of <span class="math inline">\([Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\)</span> is a block or synchronization of side-effect.</p>
<h3 id="preciptive-with-dsls">1.2 Preciptive with DSLs</h3>
<p>When we said that a language <span class="math inline">\(l\)</span> covers a subset of <span class="math inline">\(P\)</span>, we can simply call this subset the domain covered with <span class="math inline">\(l\)</span>. The subset of <span class="math inline">\(P\)</span> in that domain <span class="math inline">\(P_D\)</span> is equal to the subset of <span class="math inline">\(P\)</span> we can express with a language <span class="math inline">\(l\)</span> <span class="math inline">\(P_l\)</span>. So, we cannot ask a question like: “Does the language adequately cover the domain?”, since it always does, by definition.[4] And the definition can be also interept as that “DSL is always model complete, by definition”.</p>
<p>DSLs is actually a meta-ness of preciptive modeling, and according to the <em>Model Complete Theory</em>, DSLs is the shortcut of providing a better abstrict of target system. Or we can say that, all modeling methods will bring us a DSL which is model completion.</p>
<h3 id="scale-underfitting-and-overfitting">1.2 Scale, Underfitting and Overfitting</h3>
<p>We can optimize <span class="math inline">\(f(x;\theta)\)</span> by provide a better scale rate <span class="math inline">\(\theta\)</span>. So we may needs to define a <span class="math inline">\(Cost\ function\)</span> to define how good a choice of <span class="math inline">\(\theta\)</span> is, this <span class="math inline">\(cost\ function\)</span> is always calls banchmark in architecture modeling.</p>
<p>For avoid underfitting and overfitting, we usually setup some monitor services for getting the approximate value of <span class="math inline">\(\theta\)</span>.</p>
<h2 id="ii-concrete">II Concrete</h2>
<p>Thus we have passed the age of exploration of the distribution system or archicture. There is alot of components for building a concrete distribute micro-services system.</p>
<h3 id="describe-the-services">2.1 Describe the Services</h3>
<p>In a distribute system envirement, we can build out system on a implemented distribute system, such as <code>etcd</code>, or <code>consul</code> Which provide an opensource implementation of <code>raft</code> algorthm that equivariant to Lamport’s PAXOS.</p>
<p>The best way for descriptive modeling should be DSLs, thus it’s hard to implementation. In a compromise way, we can use <code>RPC</code> to provide a better description of services itself. <code>GRPC</code> might be a good choice, during to the strict type system and <code>Http 2.0</code> supporting.</p>
<p>A services should tell others <em>Who</em> it is, and <em>What</em> or <em>How</em> it should be. For the formalize denote of <span class="math inline">\(y=f(x;\theta)\)</span>, <span class="math inline">\(f\)</span> should be the <code>id</code> or <code>name</code> of the services, and <span class="math inline">\(x\rightarrow y\)</span> is the input/output protocol of services. For more, It should also provide <span class="math inline">\(\theta\)</span> to other services which is usuallys stands for <span class="math inline">\(scale\ rate\)</span>. So it’s necessary to <strong>register</strong> the meta information as <code>K/V</code> with our distribute system for <strong>exploring</strong> by other services. And use services like <code>confd</code> to moniting and applying the <code>KV</code> changes.</p>
<p>For static config of services(even for clients), we can simple build a static config system. For example, <code>PSS</code> is a simple Kstorage system base on <code>pandas</code> which provide map, reduce, filter function for reshape/recache the static config files.</p>
<h3 id="regulator-of-theta">2.2 Regulator of <span class="math inline">\(\theta\)</span></h3>
<p>For getting a better <span class="math inline">\(\theta\)</span>, We may need some monitor services such as <code>grafana / Prometheus / Sentry</code> for function of cost. Then we may try to predict <span class="math inline">\(\theta\)</span> based on the banchmark and result of montoring.</p>
<h3 id="side-effect-1">2.3 Side-effect</h3>
<p>It’s really complex for managing statements and side-effect, visiting a resoure by multiple services in same time may occor unpredictable result or <span class="math inline">\(mutex\rightarrow deadlock\)</span>. To avoid it, we may needs to discript the side-effect more strictly. Some GPL such like <code>Haskell</code> provide a abstruct data structure for manage it called <code>monad</code>, thus there is <code>IO monad</code>, <code>State Monad</code>, <code>Pal Monad</code>, <code>Eval Monad</code>.</p>
<p><code>Qubit</code>[4] is thus a system for manage side-effect data. The basic idea of Qubit is from <code>FRP</code> and <code>Eval Monad</code>. Qubit is a multi-process services which is also distribute but has no effect. A <code>Qubit</code> Works as a <code>Immutable Type Class</code> which is just provide some eval monad for schedular and calling. The Qubit descriped with following rules.</p>
<ul>
<li>Eval Monad</li>
<li>Safe DSL :: Require(‘xxx.py’)</li>
<li>Data -&gt; [prevData, NextData]</li>
<li>Save <span class="math inline">\(iff\)</span> side effect</li>
<li>Timestamp and Lamport-Timestamp <span class="math inline">\(Ev_1 \rightarrow [Ev_2, Ev_3] \rightarrow Ev_n\)</span></li>
</ul>
<h3 id="toolkits">2.4 Toolkits</h3>
<p>For depoly and testing the distribute system, we may need alot of tookits. Such as <code>git-daemon</code> or <code>fabric</code>. <code>Stack</code> is another choice for making building system easilyer which provide a remote shell based on websockets, and support fabric’s systax which is actually a DSL</p>
<h1 id="iii-reference">III Reference</h1>
<p>[1][4] DSL Engineering, Designing, Implementing and Using Domain-Specific Languages, Markus Voelter, dslbook.org, ch 2.1</p>
<p>[2]Time, Clock, And the Ordering of Events in a distribute system, Leslie Lamport, MCA Inc.</p>
<p>[3] Why DSL Ryan J. Kung, https://ryankung.github.io/posts/2017-06-14-why-dsl.html</p>
<p>[4] Qubit, A Eval based Time Series Event System. https://github.com/RyanKung/qubitcal Micro-Services Modeling</p>
<h2 id="i-metaphysical-modeling-1">I Metaphysical Modeling</h2>
<p>There are two ways in which the term modeling can be understood: <strong>descriptive</strong> and <strong>preciptive</strong>. A descriptive model represent an existing system Thus a presciptive model is one that can be used to construct the target system[1].</p>
<h3 id="descriptive-with-functional-1">1.1 Descriptive with Functional</h3>
<p>A Functional is a Function which accept a paramater <span class="math inline">\(\theta\)</span> and output a function <span class="math inline">\(f(x;\theta)\)</span>, where <span class="math inline">\(f(x)\)</span> is the abstract of <span class="math inline">\(services\ processing\)</span>.</p>
<h4 id="pure-function-and-equivariant-1">1.1.1 <em>Pure Function</em> and <em>equivariant</em></h4>
<p>Pure Function is that a function dose not cause any side-effect, which is means, no statements, IO, wont cause <em>MUTEX</em>, etc.</p>
<p>And suppose that there is two function <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>, <span class="math inline">\(f(x)\)</span> is equivariant to <span class="math inline">\(g\)</span> <span class="math inline">\(iff\)</span>: <span class="math inline">\(f\circ g(x)=g \circ f(x)\)</span>.</p>
<h4 id="compose-function-1">1.1.2 Compose Function</h4>
<p>In mathematic, compose of functions is that <span class="math inline">\(f(g(x)) = f \circ g (x)\)</span>, which can be represent that <span class="math inline">\(compose ( f, g)(x)\)</span>, or in S-exp <span class="math inline">\((compose\ f'\ g')\)</span>, where <span class="math inline">\(\circ\)</span> is a <span class="math inline">\(left\ prefix\)</span> function.</p>
<p>We can compose functions in any order iff they are <span class="math inline">\(Pure\)</span> or <span class="math inline">\(Equivariant\)</span>, otherwise we may need to define some fixed oreder function with <span class="math inline">\(J=f\circ g\)</span>, which wile hidden function <span class="math inline">\(f, g\)</span> in our descrpiptive modeling.</p>
<h4 id="side-effect-2">1.1.2 Side-Effect</h4>
<p>Side-effect usually caused via <em>Resource Sharing</em>, <em>IO</em>, or <em>Statement</em>. If a function cause side-effect, it’s obviously not a <span class="math inline">\(pure\)</span> function, but it still can be describe as <span class="math inline">\(equivariant\)</span> function.</p>
<p>A <span class="math inline">\(distribution\)</span> system can be describe as <em>a system which including unpredictable order in which certain events can occour</em>, So as the micro-service System. With the definition of the <span class="math inline">\(Lamport\ Timestamp\)</span>, we can define a compose of functions like: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}] \rightarrow Ev_c \rightarrow Ev_d\)</span>. If all events are <span class="math inline">\(pure\)</span> or <span class="math inline">\(equivariant\)</span>, we can think <span class="math inline">\(Ev_{b1}\)</span> and <span class="math inline">\(Ev_{b2}\)</span> are occour concurrency.</p>
<p>But if <span class="math inline">\(Ev_{b2}\)</span> couse side-effect, we must include the statement of <span class="math inline">\(Ev_{b2}\)</span> in our <span class="math inline">\(Lamprot\ Timeline\)</span>: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\rightarrow Ev_c \rightarrow Ev_d\)</span>. The processing of <span class="math inline">\([Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\)</span> is a block or synchronization of side-effect.</p>
<h3 id="preciptive-with-dsls-1">1.2 Preciptive with DSLs</h3>
<p>When we said that a language <span class="math inline">\(l\)</span> covers a subset of <span class="math inline">\(P\)</span>, we can simply call this subset the domain covered with <span class="math inline">\(l\)</span>. The subset of <span class="math inline">\(P\)</span> in that domain <span class="math inline">\(P_D\)</span> is equal to the subset of <span class="math inline">\(P\)</span> we can express with a language <span class="math inline">\(l\)</span> <span class="math inline">\(P_l\)</span>. So, we cannot ask a question like: “Does the language adequately cover the domain?”, since it always does, by definition.[4] And the definition can be also interept as that “DSL is always model complete, by definition”.</p>
<p>DSLs is actually a meta-ness of preciptive modeling, and according to the <em>Model Complete Theory</em>, DSLs is the shortcut of providing a better abstrict of target system. Or we can say that, all modeling methods will bring us a DSL which is model completion.</p>
<h3 id="scale-underfitting-and-overfitting-1">1.2 Scale, Underfitting and Overfitting</h3>
<p>We can optimize <span class="math inline">\(f(x;\theta)\)</span> by provide a better scale rate <span class="math inline">\(\theta\)</span>. So we may needs to define a <span class="math inline">\(Cost\ function\)</span> to define how good a choice of <span class="math inline">\(\theta\)</span> is, this <span class="math inline">\(cost\ function\)</span> is always calls banchmark in architecture modeling.</p>
<p>For avoid underfitting and overfitting, we usually setup some monitor services for getting the approximate value of <span class="math inline">\(\theta\)</span>.</p>
<h2 id="ii-concrete-1">II Concrete</h2>
<p>Thus we have passed the age of exploration of the distribution system or archicture. There is alot of components for building a concrete distribute micro-services system.</p>
<h3 id="describe-the-services-1">2.1 Describe the Services</h3>
<p>In a distribute system envirement, we can build out system on a implemented distribute system, such as <code>etcd</code>, or <code>consul</code> Which provide an opensource implementation of <code>raft</code> algorthm that equivariant to Lamport’s PAXOS.</p>
<p>The best way for descriptive modeling should be DSLs, thus it’s hard to implementation. In a compromise way, we can use <code>RPC</code> to provide a better description of services itself. <code>GRPC</code> might be a good choice, during to the strict type system and <code>Http 2.0</code> supporting.</p>
<p>A services should tell others <em>Who</em> it is, and <em>What</em> or <em>How</em> it should be. For the formalize denote of <span class="math inline">\(y=f(x;\theta)\)</span>, <span class="math inline">\(f\)</span> should be the <code>id</code> or <code>name</code> of the services, and <span class="math inline">\(x\rightarrow y\)</span> is the input/output protocol of services. For more, It should also provide <span class="math inline">\(\theta\)</span> to other services which is usuallys stands for <span class="math inline">\(scale\ rate\)</span>. So it’s necessary to <strong>register</strong> the meta information as <code>K/V</code> with our distribute system for <strong>exploring</strong> by other services. And use services like <code>confd</code> to moniting and applying the <code>KV</code> changes.</p>
<p>For static config of services(even for clients), we can simple build a static config system. For example, <code>PSS</code> is a simple Kstorage system base on <code>pandas</code> which provide map, reduce, filter function for reshape/recache the static config files.</p>
<h3 id="regulator-of-theta-1">2.2 Regulator of <span class="math inline">\(\theta\)</span></h3>
<p>For getting a better <span class="math inline">\(\theta\)</span>, We may need some monitor services such as <code>grafana / Prometheus / Sentry</code> for function of cost. Then we may try to predict <span class="math inline">\(\theta\)</span> based on the banchmark and result of montoring.</p>
<h3 id="side-effect-3">2.3 Side-effect</h3>
<p>It’s really complex for managing statements and side-effect, visiting a resoure by multiple services in same time may occor unpredictable result or <span class="math inline">\(mutex\rightarrow deadlock\)</span>. To avoid it, we may needs to discript the side-effect more strictly. Some GPL such like <code>Haskell</code> provide a abstruct data structure for manage it called <code>monad</code>, thus there is <code>IO monad</code>, <code>State Monad</code>, <code>Pal Monad</code>, <code>Eval Monad</code>.</p>
<p><code>Qubit</code>[4] is thus a system for manage side-effect data. The basic idea of Qubit is from <code>FRP</code> and <code>Eval Monad</code>. Qubit is a multi-process services which is also distribute but has no effect. A <code>Qubit</code> Works as a <code>Immutable Type Class</code> which is just provide some eval monad for schedular and calling. The Qubit descriped with following rules.</p>
<ul>
<li>Eval Monad</li>
<li>Safe DSL :: Require(‘xxx.py’)</li>
<li>Data -&gt; [prevData, NextData]</li>
<li>Save <span class="math inline">\(iff\)</span> side effect</li>
<li>Timestamp and Lamport-Timestamp <span class="math inline">\(Ev_1 \rightarrow [Ev_2, Ev_3] \rightarrow Ev_n\)</span></li>
</ul>
<h3 id="toolkits-1">2.4 Toolkits</h3>
<p>For depoly and testing the distribute system, we may need alot of tookits. Such as <code>git-daemon</code> or <code>fabric</code>. <code>Stack</code> is another choice for making building system easilyer which provide a remote shell based on websockets, and support fabric’s systax which is actually a DSL</p>
<h1 id="iii-reference-1">III Reference</h1>
<p>[1][4] DSL Engineering, Designing, Implementing and Using Domain-Specific Languages, Markus Voelter, dslbook.org, ch 2.1</p>
<p>[2]Time, Clock, And the Ordering of Events in a distribute system, Leslie Lamport, MCA Inc.</p>
<p>[3] Why DSL Ryan J. Kung, https://ryankung.github.io/posts/2017-06-14-why-dsl.html</p>
<p>[4] Qubit, A Eval based Time Series Event System. https://github.com/RyanKung/qubit</p>
<h2 id="i-metaphysical-modeling-2">I Metaphysical Modeling</h2>
<p>There are two ways in which the term modeling can be understood: <strong>descriptive</strong> and <strong>preciptive</strong>. A descriptive model represent an existing system Thus a presciptive model is one that can be used to construct the target system[1].</p>
<h3 id="descriptive-with-functional-2">1.1 Descriptive with Functional</h3>
<p>A Functional is a Function which accept a paramater <span class="math inline">\(\theta\)</span> and output a function <span class="math inline">\(f(x;\theta)\)</span>, where <span class="math inline">\(f(x)\)</span> is the abstract of <span class="math inline">\(services\ processing\)</span>.</p>
<h4 id="pure-function-and-equivariant-2">1.1.1 <em>Pure Function</em> and <em>equivariant</em></h4>
<p>Pure Function is that a function dose not cause any side-effect, which is means, no statements, IO, wont cause <em>MUTEX</em>, etc.</p>
<p>And suppose that there is two function <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>, <span class="math inline">\(f(x)\)</span> is equivariant to <span class="math inline">\(g\)</span> <span class="math inline">\(iff\)</span>: <span class="math inline">\(f\circ g(x)=g \circ f(x)\)</span>.</p>
<h4 id="compose-function-2">1.1.2 Compose Function</h4>
<p>In mathematic, compose of functions is that <span class="math inline">\(f(g(x)) = f \circ g (x)\)</span>, which can be represent that <span class="math inline">\(compose ( f, g)(x)\)</span>, or in S-exp <span class="math inline">\((compose\ f'\ g')\)</span>, where <span class="math inline">\(\circ\)</span> is a <span class="math inline">\(left\ prefix\)</span> function.</p>
<p>We can compose functions in any order iff they are <span class="math inline">\(Pure\)</span> or <span class="math inline">\(Equivariant\)</span>, otherwise we may need to define some fixed oreder function with <span class="math inline">\(J=f\circ g\)</span>, which wile hidden function <span class="math inline">\(f, g\)</span> in our descrpiptive modeling.</p>
<h4 id="side-effect-4">1.1.2 Side-Effect</h4>
<p>Side-effect usually caused via <em>Resource Sharing</em>, <em>IO</em>, or <em>Statement</em>. If a function cause side-effect, it’s obviously not a <span class="math inline">\(pure\)</span> function, but it still can be describe as <span class="math inline">\(equivariant\)</span> function.</p>
<p>A <span class="math inline">\(distribution\)</span> system can be describe as <em>a system which including unpredictable order in which certain events can occour</em>, So as the micro-service System. With the definition of the <span class="math inline">\(Lamport\ Timestamp\)</span>, we can define a compose of functions like: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}] \rightarrow Ev_c \rightarrow Ev_d\)</span>. If all events are <span class="math inline">\(pure\)</span> or <span class="math inline">\(equivariant\)</span>, we can think <span class="math inline">\(Ev_{b1}\)</span> and <span class="math inline">\(Ev_{b2}\)</span> are occour concurrency.</p>
<p>But if <span class="math inline">\(Ev_{b2}\)</span> couse side-effect, we must include the statement of <span class="math inline">\(Ev_{b2}\)</span> in our <span class="math inline">\(Lamprot\ Timeline\)</span>: <span class="math inline">\(Ev_a \rightarrow [Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\rightarrow Ev_c \rightarrow Ev_d\)</span>. The processing of <span class="math inline">\([Ev_{b1}, Ev_{b2}^1] \rightarrow [Ev_{b1}, Ev_{b2}^2]\)</span> is a block or synchronization of side-effect.</p>
<h3 id="preciptive-with-dsls-2">1.2 Preciptive with DSLs</h3>
<p>When we said that a language <span class="math inline">\(l\)</span> covers a subset of <span class="math inline">\(P\)</span>, we can simply call this subset the domain covered with <span class="math inline">\(l\)</span>. The subset of <span class="math inline">\(P\)</span> in that domain <span class="math inline">\(P_D\)</span> is equal to the subset of <span class="math inline">\(P\)</span> we can express with a language <span class="math inline">\(l\)</span> <span class="math inline">\(P_l\)</span>. So, we cannot ask a question like: “Does the language adequately cover the domain?”, since it always does, by definition.[4] And the definition can be also interept as that “DSL is always model complete, by definition”.</p>
<p>DSLs is actually a meta-ness of preciptive modeling, and according to the <em>Model Complete Theory</em>, DSLs is the shortcut of providing a better abstrict of target system. Or we can say that, all modeling methods will bring us a DSL which is model completion.</p>
<h3 id="scale-underfitting-and-overfitting-2">1.2 Scale, Underfitting and Overfitting</h3>
<p>We can optimize <span class="math inline">\(f(x;\theta)\)</span> by provide a better scale rate <span class="math inline">\(\theta\)</span>. So we may needs to define a <span class="math inline">\(Cost\ function\)</span> to define how good a choice of <span class="math inline">\(\theta\)</span> is, this <span class="math inline">\(cost\ function\)</span> is always calls banchmark in architecture modeling.</p>
<p>For avoid underfitting and overfitting, we usually setup some monitor services for getting the approximate value of <span class="math inline">\(\theta\)</span>.</p>
<h2 id="ii-concrete-2">II Concrete</h2>
<pre><code>Thus we have passed the age of exploration of the distribution system or
archicture. There is alot of components for building a concrete distribute
micro-services system.</code></pre>
<h3 id="describe-the-services-2">2.1 Describe the Services</h3>
<pre><code>In a distribute system envirement, we can build out system on a implemented
distribute system, such as `etcd`, or `consul` Which provide an opensource
implementation of  `raft` algorthm that equivariant to Lamport's PAXOS.

The best way for descriptive modeling should be DSLs, thus it's hard to
implementation. In a compromise way, we can use `RPC` to provide a better
description of services itself. `GRPC` might be a good choice, during to
the strict type system and `Http 2.0` supporting.

A services should tell others *Who* it is, and *What* or *How* it should
be. For the formalize denote of $y=f(x;\theta)$, $f$ should be the `id` or
`name` of the services, and $x\rightarrow y$ is the input/output protocol
of services. For more, It should also provide $\theta$ to other services
which is usuallys stands for $scale\ rate$. So it's necessary to
**register** the meta information as `K/V` with our distribute system for
**exploring** by other services. And use services like `confd` to moniting
and applying the `KV` changes.

For static config of services(even for clients), we can simple build a
static config system. For example, `PSS` is a simple K\V storage system
base on `pandas` which provide map, reduce, filter function for
reshape/recache the static config files.</code></pre>
<h3 id="regulator-of-theta-2">2.2 Regulator of <span class="math inline">\(\theta\)</span></h3>
<pre><code>For getting a better $\theta$, We may need some monitor services such as
`grafana / Prometheus / Sentry` for function of cost. Then we may try to
predict $\theta$ based on the banchmark and result of montoring.</code></pre>
<h3 id="side-effect-5">2.3 Side-effect</h3>
<pre><code>It's really complex for managing statements and side-effect, visiting a
resoure by multiple services in same time may occor unpredictable result or
$mutex\rightarrow deadlock$. To avoid it, we may needs to discript the
side-effect more strictly. Some GPL such like `Haskell` provide a abstruct
data structure for manage it called `monad`, thus there is `IO monad`,
`State Monad`, `Pal Monad`, `Eval Monad`.

`Qubit`[4] is thus a system for manage side-effect data. The basic idea of
Qubit is from `FRP` and `Eval Monad`. Qubit is a multi-process services
which is also distribute but has no effect. A `Qubit` Works as a `Immutable
Type Class` which is just provide some eval monad for schedular and
calling. The Qubit descriped with following rules.

* Eval Monad
* Safe DSL :: Require('xxx.py')
* Data -&gt; [prevData, NextData]
* Save $iff$ side effect
* Timestamp and Lamport-Timestamp
    $Ev_1 \rightarrow [Ev_2, Ev_3] \rightarrow Ev_n$ 
    </code></pre>
<h3 id="toolkits-2">2.4 Toolkits</h3>
<pre><code>    For depoly and testing the distribute system, we may need alot of
    tookits. Such as `git-daemon` or `fabric`. `Stack` is another choice
    for making building system easilyer which provide a remote shell based
        on websockets, and support fabric's systax which is actually a DSL
        
        </code></pre>
<h1 id="iii-reference-2">III Reference</h1>
<pre><code>        [1][4] DSL Engineering, Designing, Implementing and Using
        Domain-Specific Languages, Markus Voelter, dslbook.org, ch 2.1
        
        [2]Time, Clock, And the Ordering of Events in a distribute system,
        Leslie Lamport, MCA Inc.
        
        [3] Why DSL Ryan J. Kung,
        https://ryankung.github.io/posts/2017-06-14-why-dsl.html
        
        [4] Qubit, A Eval based Time Series Event System.
        https://github.com/RyanKung/qubitPATH=/Users/ryan/.Pokemon-Terminal:/opt/local/bin:/Users/ryan/bin:/usr/local/bin:/Users/ryan/.nix-profile/bin:/Users/ryan/.nix-profile/sbin:/usr/local/opt/gnu-sed/libexec/gnubin:/Users/ryan/.cargo/bin:/usr/local/mysql/bin:/Users/ryan/miniconda3/bin:/Users/ryan/anaconda/bin:/Users/ryan/.local/bin:/usr/lib:/usr/local/share/npm/bin/:/Users/ryan/bin:/usr/local/sbin:/opt/local/bin:/opt/local/sbin:/usr/texbin//usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Applications/Server.app/Contents/ServerRoot/usr/bin:/Applications/Server.app/Contents/ServerRoot/usr/sbin:/usr/local/MacGPG2/bin:/Library/TeX/texbin:/usr/local/sbin:/Users/ryan/bin/sdk/platform-tools/:/Users/ryan/lab/golang/bin:/Applications/Momentics.app/host_10_3_1_12/darwin/x86/usr/bin</code></pre>

        </div>

        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
